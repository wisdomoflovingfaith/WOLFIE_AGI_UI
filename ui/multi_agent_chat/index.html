<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WOLFIE AGI UI - Multi-Agent Chat Interface</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --wolfie-green: #15803d;
            --wolfie-gold: #fbbf24;
            --wolfie-blue: #3b82f6;
            --wolfie-purple: #8b5cf6;
            --wolfie-red: #ef4444;
            --wolfie-gray: #6b7280;
            --wolfie-dark: #1f2937;
        }

        body {
            background: linear-gradient(135deg, rgba(21, 128, 61, 0.05), rgba(59, 130, 246, 0.05));
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            height: 100vh;
            overflow: hidden;
        }

        .chat-container {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            background: linear-gradient(135deg, var(--wolfie-green), var(--wolfie-blue));
            color: white;
            padding: 15px 20px;
            border-bottom: 2px solid var(--wolfie-green);
        }

        .agent-panel {
            background: white;
            border-right: 2px solid var(--wolfie-green);
            height: 100vh;
            overflow-y: auto;
            padding: 20px;
        }

        .agent-card {
            background: linear-gradient(135deg, rgba(21, 128, 61, 0.1), rgba(59, 130, 246, 0.1));
            border: 2px solid var(--wolfie-green);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .agent-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(21, 128, 61, 0.3);
        }

        .agent-card.active {
            background: linear-gradient(135deg, var(--wolfie-green), var(--wolfie-blue));
            color: white;
        }

        .agent-status {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-dot.active { background: var(--wolfie-green); }
        .status-dot.inactive { background: var(--wolfie-gray); }
        .status-dot.busy { background: var(--wolfie-red); }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f8f9fa;
        }

        .message {
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message.agent {
            justify-content: flex-start;
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, var(--wolfie-blue), var(--wolfie-purple));
            color: white;
            border-bottom-right-radius: 4px;
        }

        .message.agent .message-content {
            background: white;
            border: 2px solid var(--wolfie-green);
            border-bottom-left-radius: 4px;
        }

        .message-header {
            font-size: 0.8em;
            font-weight: bold;
            margin-bottom: 5px;
            opacity: 0.8;
        }

        .message-text {
            line-height: 1.4;
        }

        .message-time {
            font-size: 0.7em;
            opacity: 0.6;
            margin-top: 5px;
        }

        .chat-input {
            background: white;
            border-top: 2px solid var(--wolfie-green);
            padding: 20px;
        }

        .input-group {
            position: relative;
        }

        .chat-input-field {
            border: 2px solid var(--wolfie-green);
            border-radius: 25px;
            padding: 12px 20px;
            font-size: 16px;
            resize: none;
            max-height: 120px;
        }

        .chat-input-field:focus {
            border-color: var(--wolfie-blue);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .send-button {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: linear-gradient(135deg, var(--wolfie-green), var(--wolfie-blue));
            border: none;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .send-button:hover {
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 4px 12px rgba(21, 128, 61, 0.3);
        }

        .agent-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--wolfie-green), var(--wolfie-blue));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
            flex-shrink: 0;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--wolfie-blue), var(--wolfie-purple));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-left: 10px;
            flex-shrink: 0;
        }

        .typing-indicator {
            display: none;
            align-items: center;
            margin-bottom: 20px;
        }

        .typing-dots {
            display: flex;
            align-items: center;
            background: white;
            border: 2px solid var(--wolfie-green);
            border-radius: 18px;
            padding: 12px 16px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--wolfie-green);
            margin: 0 2px;
            animation: typing 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .meeting-mode {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(59, 130, 246, 0.1));
            border: 2px solid var(--wolfie-purple);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .meeting-mode.active {
            background: linear-gradient(135deg, var(--wolfie-purple), var(--wolfie-blue));
            color: white;
        }

        .project-tracking {
            background: linear-gradient(135deg, rgba(21, 128, 61, 0.1), rgba(59, 130, 246, 0.1));
            border: 2px solid var(--wolfie-green);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .project-item {
            background: white;
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 10px;
            border-left: 4px solid var(--wolfie-green);
        }

        .project-progress {
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
            margin-top: 5px;
        }

        .project-progress-bar {
            height: 100%;
            background: linear-gradient(135deg, var(--wolfie-green), var(--wolfie-blue));
            transition: width 0.3s ease;
        }

        .agape-principles {
            background: linear-gradient(135deg, rgba(21, 128, 61, 0.1), rgba(59, 130, 246, 0.1));
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .principle {
            display: inline-block;
            background: var(--wolfie-green);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            margin: 2px;
            font-size: 0.85em;
        }

        .message-actions {
            display: flex;
            gap: 5px;
            margin-top: 5px;
        }

        .message-action {
            background: none;
            border: none;
            color: var(--wolfie-gray);
            cursor: pointer;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8em;
            transition: all 0.3s ease;
        }

        .message-action:hover {
            background: var(--wolfie-gray);
            color: white;
        }

        .search-messages {
            background: white;
            border: 2px solid var(--wolfie-green);
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 20px;
        }

        .search-input {
            border: none;
            outline: none;
            width: 100%;
            padding: 8px;
        }

        .message-count {
            background: var(--wolfie-green);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7em;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <!-- Chat Header -->
        <div class="chat-header">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h4 class="mb-0">
                        <i class="fas fa-users-cog"></i> Multi-Agent Chat Interface
                    </h4>
                    <small>Coordinate 2-28 AI agents for project completion</small>
                </div>
                <div class="col-md-6 text-end">
                    <div class="d-flex align-items-center justify-content-end">
                        <span class="me-3">
                            <i class="fas fa-circle text-success"></i> System Online
                        </span>
                        <span class="me-3">
                            <i class="fas fa-users"></i> <span id="activeAgentsCount">14</span> Agents
                        </span>
                        <button class="btn btn-sm btn-outline-light" onclick="toggleMeetingMode()">
                            <i class="fas fa-video"></i> Meeting Mode
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="row g-0 h-100">
            <!-- Left Panel: Agent List -->
            <div class="col-md-3">
                <div class="agent-panel">
                    <!-- AGAPE Principles -->
                    <div class="agape-principles">
                        <h6 class="mb-2"><i class="fas fa-heart text-danger"></i> AGAPE Principles</h6>
                        <div>
                            <span class="principle">Love</span>
                            <span class="principle">Patience</span>
                            <span class="principle">Kindness</span>
                            <span class="principle">Humility</span>
                            <span class="principle">Excellence</span>
                        </div>
                    </div>

                    <!-- Meeting Mode -->
                    <div class="meeting-mode" id="meetingMode">
                        <h6 class="mb-2"><i class="fas fa-video"></i> Meeting Mode</h6>
                        <p class="small mb-2">Pattern learning and project completion</p>
                        <button class="btn btn-sm btn-outline-primary" onclick="startMeeting()">
                            <i class="fas fa-play"></i> Start Meeting
                        </button>
                    </div>

                    <!-- Project Tracking -->
                    <div class="project-tracking">
                        <h6 class="mb-2"><i class="fas fa-tasks"></i> Active Projects</h6>
                        <div id="activeProjects">
                            <div class="project-item">
                                <div class="d-flex justify-content-between align-items-center">
                                    <span class="small fw-bold">WOLFIE AGI UI</span>
                                    <span class="badge bg-success">Active</span>
                                </div>
                                <div class="small text-muted">Superpositionally header search interface</div>
                                <div class="project-progress">
                                    <div class="project-progress-bar" style="width: 75%"></div>
                                </div>
                            </div>
                            <div class="project-item">
                                <div class="d-flex justify-content-between align-items-center">
                                    <span class="small fw-bold">Multi-Agent Chat</span>
                                    <span class="badge bg-warning">In Progress</span>
                                </div>
                                <div class="small text-muted">2-28 agent coordination system</div>
                                <div class="project-progress">
                                    <div class="project-progress-bar" style="width: 45%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Search Messages -->
                    <div class="search-messages">
                        <input type="text" class="search-input" placeholder="Search messages..." id="messageSearch">
                    </div>

                    <!-- Agent List -->
                    <h6 class="mb-3"><i class="fas fa-robot"></i> Available Agents</h6>
                    <div id="agentList">
                        <div class="agent-card" onclick="selectAgent('captain_wolfie')">
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span class="fw-bold">Captain WOLFIE</span>
                                <span class="message-count">3</span>
                            </div>
                            <div class="small text-muted">Vision Commander</div>
                            <div class="small text-muted">Last active: 2 min ago</div>
                        </div>

                        <div class="agent-card" onclick="selectAgent('cursor')">
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span class="fw-bold">CURSOR</span>
                                <span class="message-count">1</span>
                            </div>
                            <div class="small text-muted">Silent Archivist</div>
                            <div class="small text-muted">Last active: 5 min ago</div>
                        </div>

                        <div class="agent-card" onclick="selectAgent('copilot')">
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span class="fw-bold">COPILOT</span>
                                <span class="message-count">2</span>
                            </div>
                            <div class="small text-muted">Code Assistant</div>
                            <div class="small text-muted">Last active: 1 min ago</div>
                        </div>

                        <div class="agent-card" onclick="selectAgent('gemini')">
                            <div class="agent-status">
                                <span class="status-dot active"></span>
                                <span class="fw-bold">GEMINI</span>
                                <span class="message-count">0</span>
                            </div>
                            <div class="small text-muted">AI Agent</div>
                            <div class="small text-muted">Last active: 10 min ago</div>
                        </div>

                        <div class="agent-card" onclick="selectAgent('grok')">
                            <div class="agent-status">
                                <span class="status-dot busy"></span>
                                <span class="fw-bold">GROK</span>
                                <span class="message-count">5</span>
                            </div>
                            <div class="small text-muted">Pattern Parser</div>
                            <div class="small text-muted">Last active: Now</div>
                        </div>

                        <div class="agent-card" onclick="selectAgent('doctor_bones')">
                            <div class="agent-status">
                                <span class="status-dot inactive"></span>
                                <span class="fw-bold">Dr. Bones</span>
                                <span class="message-count">0</span>
                            </div>
                            <div class="small text-muted">Health Analyst</div>
                            <div class="small text-muted">Last active: 1 hour ago</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Chat Messages -->
            <div class="col-md-9">
                <div class="chat-messages" id="chatMessages">
                    <!-- Welcome Message -->
                    <div class="message agent">
                        <div class="agent-avatar">CW</div>
                        <div class="message-content">
                            <div class="message-header">Captain WOLFIE</div>
                            <div class="message-text">
                                Aloha! Welcome to the Multi-Agent Chat Interface. I'm Captain WOLFIE, and I'm here to coordinate our bridge crew for project completion. 
                                Select an agent from the left panel to start a conversation, or use Meeting Mode for pattern learning and project coordination.
                            </div>
                            <div class="message-time">Just now</div>
                            <div class="message-actions">
                                <button class="message-action" onclick="likeMessage(this)"><i class="fas fa-thumbs-up"></i></button>
                                <button class="message-action" onclick="replyToMessage(this)"><i class="fas fa-reply"></i></button>
                                <button class="message-action" onclick="shareMessage(this)"><i class="fas fa-share"></i></button>
                            </div>
                        </div>
                    </div>

                    <!-- Typing Indicator -->
                    <div class="typing-indicator" id="typingIndicator">
                        <div class="agent-avatar">CW</div>
                        <div class="typing-dots">
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                            <span class="typing-dot"></span>
                        </div>
                    </div>
                </div>

                <!-- Chat Input -->
                <div class="chat-input">
                    <div class="input-group">
                        <textarea class="form-control chat-input-field" id="messageInput" 
                                  placeholder="Type your message... (Press Enter to send, Shift+Enter for new line)"
                                  rows="1"></textarea>
                        <button class="send-button" onclick="sendMessage()">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Multi-Agent Chat Interface JavaScript
        class MultiAgentChat {
            constructor() {
                this.selectedAgent = null;
                this.messages = [];
                this.meetingMode = false;
                this.agents = {
                    'captain_wolfie': {
                        name: 'Captain WOLFIE',
                        role: 'Vision Commander',
                        avatar: 'CW',
                        status: 'active',
                        personality: 'Leadership, vision, coordination'
                    },
                    'cursor': {
                        name: 'CURSOR',
                        role: 'Silent Archivist',
                        avatar: 'CU',
                        status: 'active',
                        personality: 'Technical, precise, organized'
                    },
                    'copilot': {
                        name: 'COPILOT',
                        role: 'Code Assistant',
                        avatar: 'CP',
                        status: 'active',
                        personality: 'Helpful, coding-focused, collaborative'
                    },
                    'gemini': {
                        name: 'GEMINI',
                        role: 'AI Agent',
                        avatar: 'GM',
                        status: 'active',
                        personality: 'Analytical, creative, versatile'
                    },
                    'grok': {
                        name: 'GROK',
                        role: 'Pattern Parser',
                        avatar: 'GR',
                        status: 'busy',
                        personality: 'Pattern recognition, data analysis'
                    },
                    'doctor_bones': {
                        name: 'Dr. Bones',
                        role: 'Health Analyst',
                        avatar: 'DB',
                        status: 'inactive',
                        personality: 'Health-focused, analytical, caring'
                    }
                };
                this.init();
            }
            
            init() {
                this.setupEventListeners();
                this.loadChatHistory();
                this.startRealTimeUpdates();
            }
            
            setupEventListeners() {
                document.getElementById('messageInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                });
                
                document.getElementById('messageInput').addEventListener('input', (e) => {
                    this.autoResizeTextarea(e.target);
                });
                
                document.getElementById('messageSearch').addEventListener('input', (e) => {
                    this.searchMessages(e.target.value);
                });
            }
            
            autoResizeTextarea(textarea) {
                textarea.style.height = 'auto';
                textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';
            }
            
            selectAgent(agentId) {
                // Remove active class from all agents
                document.querySelectorAll('.agent-card').forEach(card => {
                    card.classList.remove('active');
                });
                
                // Add active class to selected agent
                event.currentTarget.classList.add('active');
                
                this.selectedAgent = agentId;
                this.loadAgentChat(agentId);
            }
            
            loadAgentChat(agentId) {
                const agent = this.agents[agentId];
                if (!agent) return;
                
                // Clear current messages
                this.messages = [];
                this.displayMessages();
                
                // Add welcome message for selected agent
                this.addMessage('agent', agentId, `Hello! I'm ${agent.name}, your ${agent.role}. How can I help you today?`);
            }
            
            sendMessage() {
                const input = document.getElementById('messageInput');
                const message = input.value.trim();
                
                if (!message) return;
                
                // Add user message
                this.addMessage('user', 'user', message);
                
                // Clear input
                input.value = '';
                input.style.height = 'auto';
                
                // Show typing indicator
                this.showTypingIndicator();
                
                // Simulate agent response
                setTimeout(() => {
                    this.hideTypingIndicator();
                    this.generateAgentResponse(message);
                }, 1000 + Math.random() * 2000);
            }
            
            addMessage(type, sender, text, timestamp = null) {
                const message = {
                    type: type,
                    sender: sender,
                    text: text,
                    timestamp: timestamp || new Date()
                };
                
                this.messages.push(message);
                this.displayMessages();
                this.scrollToBottom();
            }
            
            displayMessages() {
                const container = document.getElementById('chatMessages');
                const typingIndicator = document.getElementById('typingIndicator');
                
                // Remove typing indicator temporarily
                typingIndicator.style.display = 'none';
                
                container.innerHTML = this.messages.map(message => {
                    if (message.type === 'user') {
                        return `
                            <div class="message user">
                                <div class="user-avatar">U</div>
                                <div class="message-content">
                                    <div class="message-header">You</div>
                                    <div class="message-text">${this.escapeHtml(message.text)}</div>
                                    <div class="message-time">${this.formatTime(message.timestamp)}</div>
                                    <div class="message-actions">
                                        <button class="message-action" onclick="multiAgentChat.likeMessage(this)"><i class="fas fa-thumbs-up"></i></button>
                                        <button class="message-action" onclick="multiAgentChat.replyToMessage(this)"><i class="fas fa-reply"></i></button>
                                        <button class="message-action" onclick="multiAgentChat.shareMessage(this)"><i class="fas fa-share"></i></button>
                                    </div>
                                </div>
                            </div>
                        `;
                    } else {
                        const agent = this.agents[message.sender];
                        const agentName = agent ? agent.name : message.sender;
                        const agentAvatar = agent ? agent.avatar : message.sender.charAt(0).toUpperCase();
                        
                        return `
                            <div class="message agent">
                                <div class="agent-avatar">${agentAvatar}</div>
                                <div class="message-content">
                                    <div class="message-header">${agentName}</div>
                                    <div class="message-text">${this.escapeHtml(message.text)}</div>
                                    <div class="message-time">${this.formatTime(message.timestamp)}</div>
                                    <div class="message-actions">
                                        <button class="message-action" onclick="multiAgentChat.likeMessage(this)"><i class="fas fa-thumbs-up"></i></button>
                                        <button class="message-action" onclick="multiAgentChat.replyToMessage(this)"><i class="fas fa-reply"></i></button>
                                        <button class="message-action" onclick="multiAgentChat.shareMessage(this)"><i class="fas fa-share"></i></button>
                                    </div>
                                </div>
                            </div>
                        `;
                    }
                }).join('');
                
                // Re-add typing indicator if needed
                if (this.isTyping) {
                    typingIndicator.style.display = 'flex';
                }
            }
            
            generateAgentResponse(userMessage) {
                if (!this.selectedAgent) return;
                
                const agent = this.agents[this.selectedAgent];
                const responses = this.getAgentResponses(agent, userMessage);
                const response = responses[Math.floor(Math.random() * responses.length)];
                
                this.addMessage('agent', this.selectedAgent, response);
            }
            
            getAgentResponses(agent, userMessage) {
                const message = userMessage.toLowerCase();
                
                if (agent.name === 'Captain WOLFIE') {
                    return [
                        "Aloha! That's a great question. Let me coordinate with the bridge crew to get you the best answer.",
                        "I see what you're getting at. Let me think about this from a leadership perspective...",
                        "Excellent point! As your Vision Commander, I can help guide us through this challenge.",
                        "That's exactly the kind of thinking we need on this project. Let me coordinate our response.",
                        "I'm picking up what you're putting down, brah! Let's make this happen with AGAPE principles."
                    ];
                } else if (agent.name === 'CURSOR') {
                    return [
                        "I've analyzed your request and found 3 relevant files in the system. Would you like me to show them?",
                        "Based on my archival analysis, here's what I found...",
                        "I've cross-referenced this with our documentation. The answer is in the superpositionally headers.",
                        "Let me search through our knowledge base for the most relevant information.",
                        "I've organized this information into a structured format for you."
                    ];
                } else if (agent.name === 'COPILOT') {
                    return [
                        "I can help you with that! Let me write some code to solve this problem.",
                        "Here's a solution I can implement for you...",
                        "I've identified the issue and can provide a fix. Would you like me to show you the code?",
                        "Let me refactor this to make it more efficient and maintainable.",
                        "I can help you debug this. Let me analyze the code structure first."
                    ];
                } else if (agent.name === 'GEMINI') {
                    return [
                        "That's an interesting perspective. Let me analyze this from multiple angles...",
                        "I can provide a creative solution to this challenge. Here's what I'm thinking...",
                        "Let me approach this problem with some innovative ideas...",
                        "I see several possibilities here. Let me explore the most promising ones...",
                        "This is a fascinating problem. Let me think outside the box for a moment..."
                    ];
                } else if (agent.name === 'GROK') {
                    return [
                        "I've detected a pattern in your request. Let me analyze the data...",
                        "Based on my pattern recognition, here's what I'm seeing...",
                        "I've identified several trends that might be relevant to your question.",
                        "Let me parse through the data to find the most relevant patterns...",
                        "I'm detecting some interesting correlations here. Let me investigate further..."
                    ];
                } else if (agent.name === 'Dr. Bones') {
                    return [
                        "From a health and wellness perspective, I can help you with that...",
                        "Let me analyze this from a medical and analytical standpoint...",
                        "I'm here to ensure we're taking care of our mental and physical health while we work.",
                        "Let me check if this approach is sustainable and healthy for the team...",
                        "I want to make sure we're not overworking ourselves. Here's my recommendation..."
                    ];
                }
                
                return [
                    "That's a great question! Let me help you with that.",
                    "I understand what you're asking. Here's my response...",
                    "Let me think about this and get back to you with a solution.",
                    "I can definitely help you with that. Let me work on it...",
                    "That's an interesting challenge. Let me see what I can do..."
                ];
            }
            
            showTypingIndicator() {
                this.isTyping = true;
                document.getElementById('typingIndicator').style.display = 'flex';
                this.scrollToBottom();
            }
            
            hideTypingIndicator() {
                this.isTyping = false;
                document.getElementById('typingIndicator').style.display = 'none';
            }
            
            scrollToBottom() {
                const container = document.getElementById('chatMessages');
                container.scrollTop = container.scrollHeight;
            }
            
            formatTime(timestamp) {
                const now = new Date();
                const diff = now - timestamp;
                const minutes = Math.floor(diff / 60000);
                
                if (minutes < 1) return 'Just now';
                if (minutes < 60) return `${minutes}m ago`;
                if (minutes < 1440) return `${Math.floor(minutes / 60)}h ago`;
                return timestamp.toLocaleDateString();
            }
            
            escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }
            
            searchMessages(query) {
                if (!query.trim()) {
                    this.displayMessages();
                    return;
                }
                
                const filteredMessages = this.messages.filter(message => 
                    message.text.toLowerCase().includes(query.toLowerCase())
                );
                
                // Highlight search results
                this.displayMessages();
                this.highlightSearchResults(query);
            }
            
            highlightSearchResults(query) {
                const messages = document.querySelectorAll('.message-text');
                messages.forEach(message => {
                    const text = message.textContent;
                    const regex = new RegExp(`(${query})`, 'gi');
                    message.innerHTML = text.replace(regex, '<span class="search-highlight">$1</span>');
                });
            }
            
            likeMessage(button) {
                button.classList.toggle('text-primary');
                const icon = button.querySelector('i');
                if (button.classList.contains('text-primary')) {
                    icon.className = 'fas fa-thumbs-up';
                } else {
                    icon.className = 'far fa-thumbs-up';
                }
            }
            
            replyToMessage(button) {
                const messageElement = button.closest('.message');
                const messageText = messageElement.querySelector('.message-text').textContent;
                const input = document.getElementById('messageInput');
                input.value = `Replying to: ${messageText.substring(0, 50)}... `;
                input.focus();
            }
            
            shareMessage(button) {
                const messageElement = button.closest('.message');
                const messageText = messageElement.querySelector('.message-text').textContent;
                navigator.clipboard.writeText(messageText);
                alert('Message copied to clipboard!');
            }
            
            loadChatHistory() {
                // Load chat history from localStorage or server
                const savedMessages = localStorage.getItem('wolfie_agi_chat_history');
                if (savedMessages) {
                    this.messages = JSON.parse(savedMessages);
                    this.displayMessages();
                }
            }
            
            saveChatHistory() {
                localStorage.setItem('wolfie_agi_chat_history', JSON.stringify(this.messages));
            }
            
            startRealTimeUpdates() {
                // Simulate real-time updates
                setInterval(() => {
                    this.updateAgentStatuses();
                    this.updateProjectProgress();
                }, 30000);
            }
            
            updateAgentStatuses() {
                // Simulate status changes
                Object.keys(this.agents).forEach(agentId => {
                    const agent = this.agents[agentId];
                    const statuses = ['active', 'inactive', 'busy'];
                    const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];
                    agent.status = randomStatus;
                });
                
                this.updateAgentCards();
            }
            
            updateAgentCards() {
                Object.keys(this.agents).forEach(agentId => {
                    const agent = this.agents[agentId];
                    const card = document.querySelector(`[onclick="selectAgent('${agentId}')"]`);
                    if (card) {
                        const statusDot = card.querySelector('.status-dot');
                        statusDot.className = `status-dot ${agent.status}`;
                    }
                });
            }
            
            updateProjectProgress() {
                // Simulate project progress updates
                const progressBars = document.querySelectorAll('.project-progress-bar');
                progressBars.forEach(bar => {
                    const currentWidth = parseInt(bar.style.width);
                    if (currentWidth < 100) {
                        const newWidth = Math.min(100, currentWidth + Math.random() * 5);
                        bar.style.width = newWidth + '%';
                    }
                });
            }
        }
        
        // Global functions
        function toggleMeetingMode() {
            const meetingMode = document.getElementById('meetingMode');
            meetingMode.classList.toggle('active');
            multiAgentChat.meetingMode = !multiAgentChat.meetingMode;
        }
        
        function startMeeting() {
            alert('Starting Meeting Mode...\n\nThis would initiate pattern learning and project coordination with all active agents.');
        }
        
        // Initialize Multi-Agent Chat
        const multiAgentChat = new MultiAgentChat();
        
        // Save chat history periodically
        setInterval(() => {
            multiAgentChat.saveChatHistory();
        }, 60000); // Save every minute
    </script>
</body>
</html>
